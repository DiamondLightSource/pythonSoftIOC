

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>API &mdash; pythonIoc 3.0b1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/softioc-favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contributing" href="contributing.html" />
    <link rel="prev" title="Reference" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: rgb(7, 43, 93)" >
          

          
            <a href="../index.html" class="icon icon-home"> pythonIoc
          

          
            
            <img src="../_static/softioc-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.0b1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  <style>
    /* style mobile top nav to look like main nav */
    .wy-nav-top {
        background: rgb(7, 43, 93)
    }
  </style>
  
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/index.html">How-to Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanations/index.html">Explanations</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#softioc"><code class="docutils literal notranslate"><span class="pre">softioc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#top-level-ioc-interface-softioc-softioc">Top Level IOC Interface: <code class="xref any docutils literal notranslate"><span class="pre">softioc.softioc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#asyncio-dispatcher-softioc-asyncio-dispatcher">Asyncio Dispatcher: <code class="xref any docutils literal notranslate"><span class="pre">softioc.asyncio_dispatcher</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-records-softioc-builder">Creating Records: <code class="xref any docutils literal notranslate"><span class="pre">softioc.builder</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#initial-value"><code class="xref any docutils literal notranslate"><span class="pre">initial_value</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#on-update"><code class="xref any docutils literal notranslate"><span class="pre">on_update</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#on-update-name"><code class="xref any docutils literal notranslate"><span class="pre">on_update_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#validate"><code class="xref any docutils literal notranslate"><span class="pre">validate</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#always-update"><code class="xref any docutils literal notranslate"><span class="pre">always_update</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#alarm-value-definitions-softioc-alarm">Alarm Value Definitions: <code class="xref any docutils literal notranslate"><span class="pre">softioc.alarm</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#automatic-pv-logging-softioc-pvlog">Automatic PV logging: <code class="xref any docutils literal notranslate"><span class="pre">softioc.pvlog</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#record-support-in-the-python-soft-ioc-softioc-device">Record Support in the Python Soft IOC: <code class="xref any docutils literal notranslate"><span class="pre">softioc.device</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#working-with-in-records">Working with IN records</a></li>
<li class="toctree-l3"><a class="reference internal" href="#working-with-out-records">Working with OUT records</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>
</li>
</ul>

            
          
  <!-- Add versions for selected branches + tags -->
  <p class="caption"><span class="caption-text">Versions</span></p>
  <ul id="versions"/>
  <script>
    // Add any branches to appear in the side pane here, tags will be added below
    // Will only appear if docs are built and pushed in gh-pages
    var versions = ['master', 'main'];
    var dirs = new Set();
    function addVersion(name) {
      if (dirs.has(name)) {
        var li = document.createElement("li");
        var a = document.createElement("a");
        a.href = 'https://dls-controls.github.io/pythonIoc/' + name;
        a.innerText = name;
        li.appendChild(a)
        document.getElementById('versions').appendChild(li);
      }
    }
    Promise.all([
      // Find gh-pages directories and populate `dirs`
      fetch("https://api.github.com/repos/dls-controls/pythonIoc/contents?ref=gh-pages")
      .then(response => response.json())
      .then(data => data.forEach(function(e) {
        if (e.type == "dir") dirs.add(e.name);
      })),
      // Add tags to `versions`
      fetch('https://api.github.com/repos/dls-controls/pythonIoc/tags')
        .then(response => response.json())
        .then(data => data.forEach(function(e) {
          versions.push(e.name);
        }))
      ]).then(_ => versions.forEach(addVersion))
  </script>

        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pythonIoc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Reference</a> &raquo;</li>
        
      <li>API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/reference/api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api">
<span id="id1"></span><h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-softioc"></span><p>Python soft IOC module.</p>
<div class="section" id="softioc">
<h2><code class="docutils literal notranslate"><span class="pre">softioc</span></code><a class="headerlink" href="#softioc" title="Permalink to this headline">¶</a></h2>
<p>The top level softioc module contains a number of packages that can be used
in the creation of IOCs:</p>
<dl class="simple">
<dt><a class="reference internal" href="#module-softioc.softioc" title="softioc.softioc"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.softioc</span></code></a></dt><dd><p>This module wraps the basic interface to the EPICS IOC. A large number of
interactive EPICS commands are wrapped and can be made available through the
interpreter by invoking the interpreter through this module.</p>
</dd>
<dt><a class="reference internal" href="#module-softioc.asyncio_dispatcher" title="softioc.asyncio_dispatcher"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.asyncio_dispatcher</span></code></a></dt><dd><p>A dispatcher for <a class="reference external" href="https://docs.python.org/3/library/asyncio.html#module-asyncio" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">asyncio</span></code></a> based applications instead of the default
<a class="reference external" href="https://cothread.readthedocs.io/en/stable/cothread.html#module-cothread" title="(in Cothread)"><code class="xref any docutils literal notranslate"><span class="pre">cothread</span></code></a> one</p>
</dd>
<dt><a class="reference internal" href="#module-softioc.alarm" title="softioc.alarm"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.alarm</span></code></a></dt><dd><p>This module simply contains definitions for severity and alarm values taken
from the EPICS <code class="docutils literal notranslate"><span class="pre">alarm.h</span></code> header file.</p>
</dd>
<dt><a class="reference internal" href="#module-softioc.builder" title="softioc.builder"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.builder</span></code></a></dt><dd><p>This module provides facilities for creating PVs.</p>
</dd>
<dt><a class="reference internal" href="#module-softioc.pvlog" title="softioc.pvlog"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.pvlog</span></code></a></dt><dd><p>The act of importing this module configures the IOC to log every external
put to the database.</p>
</dd>
</dl>
<p>The following submodules implement internals and should not normally be looked
at directly:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">softioc.imports</span></code></dt><dd><p>Imports and wraps C functions from EPICS IOC support.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">softioc.fields</span></code></dt><dd><p>Used internally as part of record support to implement access to EPICS
record fields.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">softioc.device_core</span></code></dt><dd><p>Implements the basics of <code class="docutils literal notranslate"><span class="pre">Python</span></code> EPICS device support.</p>
</dd>
<dt><a class="reference internal" href="#module-softioc.device" title="softioc.device"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.device</span></code></a></dt><dd><p>Implements <code class="docutils literal notranslate"><span class="pre">Python</span></code> device support for all the record types supported.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">softioc.pythonSoftIoc</span></code></dt><dd><p>Implements <a class="reference external" href="https://dls-controls.github.io/epicsdbbuilder/master/api.html#module-epicsdbbuilder" title="(in EPICS Database Builder vmaster)"><code class="xref any docutils literal notranslate"><span class="pre">epicsdbbuilder</span></code></a> interface for all of the <code class="docutils literal notranslate"><span class="pre">Python</span></code> records.</p>
</dd>
</dl>
</div>
<dl class="py data">
<dt id="softioc.softioc.__version__">
<code class="sig-prename descclassname"><span class="pre">softioc.</span></code><code class="sig-name descname"><span class="pre">__version__</span></code><em class="property"><span class="pre">:</span> <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><span class="pre">str</span></a></em><a class="headerlink" href="#softioc.softioc.__version__" title="Permalink to this definition">¶</a></dt>
<dd><p>Version number as calculated by <a class="reference external" href="https://github.com/dls-controls/versiongit">https://github.com/dls-controls/versiongit</a></p>
</dd></dl>

<span class="target" id="module-softioc.softioc"></span><div class="section" id="top-level-ioc-interface-softioc-softioc">
<h2>Top Level IOC Interface: <a class="reference internal" href="#module-softioc.softioc" title="softioc.softioc"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.softioc</span></code></a><a class="headerlink" href="#top-level-ioc-interface-softioc-softioc" title="Permalink to this headline">¶</a></h2>
<p>This module provides the following functions for general use (available by
importing <code class="docutils literal notranslate"><span class="pre">*</span></code>):</p>
</div>
<dl class="py function">
<dt id="softioc.softioc.iocInit">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">iocInit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dispatcher</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/softioc.html#iocInit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.softioc.iocInit" title="Permalink to this definition">¶</a></dt>
<dd><p>This must be called exactly once after loading all EPICS database files.
After this point the EPICS IOC is running and serving PVs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dispatcher</strong> – A callable with signature <code class="docutils literal notranslate"><span class="pre">dispatcher(func,</span> <span class="pre">*args)</span></code>. Will
be called in response to caput on a record. If not supplied use
<a class="reference external" href="https://cothread.readthedocs.io/en/stable/cothread.html#module-cothread" title="(in Cothread)"><code class="xref any docutils literal notranslate"><span class="pre">cothread</span></code></a> as a dispatcher.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#module-softioc.asyncio_dispatcher" title="softioc.asyncio_dispatcher"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.asyncio_dispatcher</span></code></a> is a dispatcher for <a class="reference external" href="https://docs.python.org/3/library/asyncio.html#module-asyncio" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">asyncio</span></code></a> applications</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dbLoadDatabase">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dbLoadDatabase</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">database</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">substitutions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/softioc.html#dbLoadDatabase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.softioc.dbLoadDatabase" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a database file and applies any given substitutions.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is not normally called directly, instead
<a class="reference internal" href="#softioc.builder.LoadDatabase" title="softioc.builder.LoadDatabase"><code class="xref any py py-func docutils literal notranslate"><span class="pre">softioc.builder.LoadDatabase</span></code></a> is normally used to create and load the
EPICS database on the fly.</p>
<p>However, if required, an existing EPICS database can be loaded
explicitly using this method.  Note that <a class="reference internal" href="#softioc.softioc.dbLoadDatabase" title="softioc.softioc.dbLoadDatabase"><code class="xref any py py-func docutils literal notranslate"><span class="pre">dbLoadDatabase</span></code></a> cannot be
called after <a class="reference internal" href="#softioc.softioc.iocInit" title="softioc.softioc.iocInit"><code class="xref any py py-func docutils literal notranslate"><span class="pre">iocInit</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.devIocStats">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">devIocStats</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ioc_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/softioc.html#devIocStats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.softioc.devIocStats" title="Permalink to this definition">¶</a></dt>
<dd><p>This will load a template for the devIocStats library with the specified
IOC name. This should be called before <a class="reference internal" href="#softioc.softioc.iocInit" title="softioc.softioc.iocInit"><code class="xref any py py-func docutils literal notranslate"><span class="pre">iocInit</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.interactive_ioc">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">interactive_ioc</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">call_exit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/softioc.html#interactive_ioc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.softioc.interactive_ioc" title="Permalink to this definition">¶</a></dt>
<dd><p>Fires up the interactive IOC prompt with the given context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>context</strong> – A dictionary of values that will be made available to the
interactive Python shell together with a number of EPICS test
functions</p></li>
<li><p><strong>call_exit</strong> – If <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a>, the IOC will be terminated by calling epicsExit
which means that <a class="reference internal" href="#softioc.softioc.interactive_ioc" title="softioc.softioc.interactive_ioc"><code class="xref any py py-func docutils literal notranslate"><span class="pre">interactive_ioc</span></code></a> will not return</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>While the interactive shell is running a number of EPICS test functions are made
available for use together with the constant value <a class="reference internal" href="#softioc.softioc.exit" title="softioc.softioc.exit"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">exit</span></code></a> with special
behaviour: typing <a class="reference internal" href="#softioc.softioc.exit" title="softioc.softioc.exit"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">exit</span></code></a> at the interpreter prompt will immediately call
<code class="docutils literal notranslate"><span class="pre">epicsExit</span></code> causing the Python interpreter and IOC to terminate.</p>
<p>This module provides Python wrappers for the following EPICS test functions and
makes them available to the <a class="reference internal" href="#softioc.softioc.interactive_ioc" title="softioc.softioc.interactive_ioc"><code class="xref any py py-func docutils literal notranslate"><span class="pre">interactive_ioc</span></code></a> interpreter shell. See the <a class="reference external" href="https://docs.epics-controls.org/en/latest/appdevguide/IOCTestFacilities.html">IOC
Test Facilities</a> documentation for more details of each function.</p>
<dl class="py function">
<dt id="softioc.softioc.dba">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dba</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dba" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints value of each field in dbAddr structure associated with field.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dbl">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dbl</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dbl" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the names of records in the database matching pattern.  If a (space
separated) list of fields is also given then the values of the fields are also
printed.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dbnr">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dbnr</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dbnr" title="Permalink to this definition">¶</a></dt>
<dd><p>Print number of records of each record type.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dbgrep">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dbgrep</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dbgrep" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists all record names that match the pattern. * matches any number of
characters in a record name.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dbgf">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dbgf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dbgf" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints field type and value.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dbpf">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dbpf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dbpf" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the given value into the field.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dbpr">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dbpr</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dbpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints all the fields in record up to the indicated interest level:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 2%" />
<col style="width: 98%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Application fields which change during record processing</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>Application fields which are fixed during processing</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>System developer fields of major interest</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>System developer fields of minor interest</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>All other fields</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dbtr">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dbtr</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dbtr" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests processing of the specified record.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dbtgf">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dbtgf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dbtgf" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs a dbNameToAddr and then calls dbGetField with all possible request
types and options. It prints the results of each call. This routine is of most
interest to system developers for testing database access.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dbtpf">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dbtpf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dbtpf" title="Permalink to this definition">¶</a></dt>
<dd><p>This command performs a dbNameToAddr, then calls dbPutField, followed by dbgf
for each possible request type. This routine is of interest to system developers
for testing database access.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dbior">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dbior</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">driver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dbior" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints driver reports for the selected driver (or all drivers if driver is
omitted) at the given interest level.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dbhcr">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dbhcr</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dbhcr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints hardware configuration report.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.gft">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">gft</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.gft" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Field Test for old database access</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.pft">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">pft</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.pft" title="Permalink to this definition">¶</a></dt>
<dd><p>Put Field Test for old database access</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.tpn">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">tpn</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.tpn" title="Permalink to this definition">¶</a></dt>
<dd><p>Test Process Notify for old database access</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dblsr">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dblsr</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recordname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dblsr" title="Permalink to this definition">¶</a></dt>
<dd><p>This command generates a report showing the lock set to which each record
belongs. If recordname is 0, “”, or “*” all records are shown, otherwise only
records in the same lock set as recordname are shown.</p>
<p>level can have the following values:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 2%" />
<col style="width: 98%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Show lock set information only</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>Show each record in the lock set</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Show each record and all database links in the lock set</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.dbLockShowLocked">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">dbLockShowLocked</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.dbLockShowLocked" title="Permalink to this definition">¶</a></dt>
<dd><p>This command generates a report showing all locked locksets, the records they
contain, the lockset state and the thread that currently owns the lockset. The
level argument is passed to epicsMutexShow to adjust the information reported
about each locked epicsMutex.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.scanppl">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">scanppl</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.scanppl" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints all records with the selected scan rate (or all if rate=0).</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.scanpel">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">scanpel</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.scanpel" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints all records with selected event number (or all if event=0).</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.scanpiol">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">scanpiol</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.scanpiol" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints all records in the I/O event scan lists.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.generalTimeReport">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">generalTimeReport</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">int</span> <span class="pre">level</span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.generalTimeReport" title="Permalink to this definition">¶</a></dt>
<dd><p>This routine displays the time providers and their priority levels that have
registered with the General Time subsystem for both current and event times. At
level 1 it also shows the current time as obtained from each provider.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.softioc.eltc">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">eltc</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">noYes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#softioc.softioc.eltc" title="Permalink to this definition">¶</a></dt>
<dd><p>TThis determines if error messages are displayed on the IOC console. 0 means no
and any other value means yes.</p>
</dd></dl>

<dl class="py attribute">
<dt id="softioc.softioc.exit">
<code class="sig-prename descclassname"><span class="pre">softioc.softioc.</span></code><code class="sig-name descname"><span class="pre">exit</span></code><a class="headerlink" href="#softioc.softioc.exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Displaying this value will invoke <code class="docutils literal notranslate"><span class="pre">epicsExit()</span></code> causing the IOC to
terminate immediately.</p>
</dd></dl>

<span class="target" id="module-softioc.asyncio_dispatcher"></span><div class="section" id="asyncio-dispatcher-softioc-asyncio-dispatcher">
<h2>Asyncio Dispatcher: <a class="reference internal" href="#module-softioc.asyncio_dispatcher" title="softioc.asyncio_dispatcher"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.asyncio_dispatcher</span></code></a><a class="headerlink" href="#asyncio-dispatcher-softioc-asyncio-dispatcher" title="Permalink to this headline">¶</a></h2>
<p>If your application uses <a class="reference external" href="https://docs.python.org/3/library/asyncio.html#module-asyncio" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">asyncio</span></code></a> then this module gives an alternative
dispatcher for caput requests.</p>
<dl class="py class">
<dt id="softioc.asyncio_dispatcher.AsyncioDispatcher">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">softioc.asyncio_dispatcher.</span></code><code class="sig-name descname"><span class="pre">AsyncioDispatcher</span></code><a class="reference internal" href="../_modules/softioc/asyncio_dispatcher.html#AsyncioDispatcher"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.asyncio_dispatcher.AsyncioDispatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>A dispatcher for <a class="reference external" href="https://docs.python.org/3/library/asyncio.html#module-asyncio" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">asyncio</span></code></a> based IOCs. Means that <a class="reference internal" href="#on-update"><span class="std std-ref">on_update</span></a> callback
functions can be async. Will run an Event Loop in a thread when
created.</p>
<dl class="py attribute">
<dt id="softioc.asyncio_dispatcher.AsyncioDispatcher.loop">
<code class="sig-name descname"><span class="pre">loop</span></code><a class="headerlink" href="#softioc.asyncio_dispatcher.AsyncioDispatcher.loop" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/asyncio.html#module-asyncio" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">asyncio</span></code></a> event loop that the callbacks will run under.</p>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-softioc.builder"></span><div class="section" id="creating-records-softioc-builder">
<h2>Creating Records: <a class="reference internal" href="#module-softioc.builder" title="softioc.builder"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.builder</span></code></a><a class="headerlink" href="#creating-records-softioc-builder" title="Permalink to this headline">¶</a></h2>
<p>This module publishes functions for creating records.  All of the other methods
in this module must be called before calling <a class="reference internal" href="#softioc.builder.LoadDatabase" title="softioc.builder.LoadDatabase"><code class="xref py py-func docutils literal notranslate"><span class="pre">LoadDatabase()</span></code></a>, after which
no function in this module is usable.</p>
<p>See <a class="reference internal" href="#module-softioc.device" title="softioc.device"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.device</span></code></a> for a detailed explanation of record support and creation,
but note that only the following records types have direct support from this
module:</p>
<blockquote>
<div><p>ai, ao, bi, bo, longin, longout, mbbi, mbbo, stringin, stringout, waveform</p>
</div></blockquote>
<p>The following methods create records of the corresponding type.  For all records
the <a class="reference internal" href="#initial-value"><span class="std std-ref">initial_value</span></a> parameter can be used to specify an initial value for the
record.</p>
<p>The following optional keyword arguments are available for all of these
functions:</p>
<div class="section" id="initial-value">
<span id="id2"></span><h3><a class="reference internal" href="#initial-value"><span class="std std-ref">initial_value</span></a><a class="headerlink" href="#initial-value" title="Permalink to this headline">¶</a></h3>
<p>This is used to specify an initial value for each record.</p>
</div>
<div class="section" id="on-update">
<span id="id3"></span><h3><a class="reference internal" href="#on-update"><span class="std std-ref">on_update</span></a><a class="headerlink" href="#on-update" title="Permalink to this headline">¶</a></h3>
<p>This is only available on OUT records (including those created by
<a class="reference internal" href="#softioc.builder.WaveformOut" title="softioc.builder.WaveformOut"><code class="xref py py-func docutils literal notranslate"><span class="pre">WaveformOut()</span></code></a>).  This specifies a function that will be called after
record processing has completed.</p>
<p>If used this should be set to a callable taking exactly one argument.  After
successful record processing this function will be called with the new value
just written to the record.</p>
<p>Note that this callback occurs at an unpredictable time after record
processing and if repeated high speed channel access puts are in progress it
is possible that callbacks may be delayed.  Each callback will be passed the
value at the time the record was processed.</p>
<p>Note also that <a class="reference internal" href="#on-update"><span class="std std-ref">on_update</span></a> callbacks occur as part of cothread processing
and normal cothread operations can occur during the callback.  However only
one callback is dispatched at a time, so if a callback blocks it will delay
<a class="reference internal" href="#on-update"><span class="std std-ref">on_update</span></a> callbacks for other records.</p>
</div>
<div class="section" id="on-update-name">
<span id="id4"></span><h3><a class="reference internal" href="#on-update-name"><span class="std std-ref">on_update_name</span></a><a class="headerlink" href="#on-update-name" title="Permalink to this headline">¶</a></h3>
<p>This is an alternative form of <a class="reference internal" href="#on-update"><span class="std std-ref">on_update</span></a> with the same behaviour: note
that at most one of <a class="reference internal" href="#on-update"><span class="std std-ref">on_update</span></a> and <a class="reference internal" href="#on-update-name"><span class="std std-ref">on_update_name</span></a> may be passed.  The
difference is that <a class="reference internal" href="#on-update-name"><span class="std std-ref">on_update_name</span></a> is called with the record name as its
second argument after the value as the first argument.</p>
</div>
<div class="section" id="validate">
<span id="id5"></span><h3><a class="reference internal" href="#validate"><span class="std std-ref">validate</span></a><a class="headerlink" href="#validate" title="Permalink to this headline">¶</a></h3>
<p>Also only available on OUT records, specifies a function called during
record processing. If used this should be set to a callable taking two
arguments.  The first argument will be the record object, and the second
will be the new value being written.  The <a class="reference internal" href="#validate"><span class="std std-ref">validate</span></a> function can reject
the update by returning <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a> or accept it by returning <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">True</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is called asynchronously on a thread determined by
EPICS and it is not safe to perform any cothread actions within this
callback.</p>
</div>
</div>
<div class="section" id="always-update">
<span id="id6"></span><h3><a class="reference internal" href="#always-update"><span class="std std-ref">always_update</span></a><a class="headerlink" href="#always-update" title="Permalink to this headline">¶</a></h3>
<p>Again only on OUT records, determines whether record writes which don’t
change the existing value are passed through.  If this field is not set then
writing to <code class="docutils literal notranslate"><span class="pre">.PROC</span></code> will have no visible effect.</p>
<p>This flag defaults to <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a>, in which case updates to the record
which don’t change its value will be discarded.  In particular this means
that such updates don’t call <a class="reference internal" href="#validate"><span class="std std-ref">validate</span></a> or <a class="reference internal" href="#on-update"><span class="std std-ref">on_update</span></a>.</p>
</div>
</div>
<p>For all of these functions any EPICS database field can be assigned a value by
passing it as a keyword argument for the corresponding field name (in upper
case) or by assigning to the corresponding field of the returned record object.
Thus the <code class="docutils literal notranslate"><span class="pre">**fields</span></code> argument in all of the definitions below refers to both the
optional keyword arguments listed above and record field names.</p>
<p>All functions return a wrapped <a class="reference internal" href="#softioc.device.ProcessDeviceSupportIn" title="softioc.device.ProcessDeviceSupportIn"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ProcessDeviceSupportIn</span></code></a> or
<a class="reference internal" href="#softioc.device.ProcessDeviceSupportOut" title="softioc.device.ProcessDeviceSupportOut"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ProcessDeviceSupportOut</span></code></a> instance.</p>
<dl class="py function">
<dt id="softioc.builder.aIn">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">aIn</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOPR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">HOPR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#aIn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.aIn" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.builder.aOut">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">aOut</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOPR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">HOPR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#aOut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.aOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Create <code class="docutils literal notranslate"><span class="pre">ai</span></code> and <code class="docutils literal notranslate"><span class="pre">ao</span></code> records.  The lower and upper limits for the
record can be specified, and if specified these will also be used to set the
<code class="docutils literal notranslate"><span class="pre">EGUL</span></code> and <code class="docutils literal notranslate"><span class="pre">EGUF</span></code> fields.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.builder.boolIn">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">boolIn</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ZNAM</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ONAM</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#boolIn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.boolIn" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.builder.boolOut">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">boolOut</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ZNAM</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ONAM</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#boolOut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.boolOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Create <code class="docutils literal notranslate"><span class="pre">bi</span></code> and <code class="docutils literal notranslate"><span class="pre">bo</span></code> records with the specified names for false (zero)
and true (one).</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.builder.longIn">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">longIn</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LOPR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">HOPR</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">EGU</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#longIn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.longIn" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.builder.longOut">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">longOut</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DRVL</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DRVH</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">EGU</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#longOut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.longOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Create <code class="docutils literal notranslate"><span class="pre">longin</span></code> and <code class="docutils literal notranslate"><span class="pre">longout</span></code> records with specified limits and units.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.builder.stringIn">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">stringIn</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#stringIn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.stringIn" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.builder.stringOut">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">stringOut</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#stringOut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.stringOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Create <code class="docutils literal notranslate"><span class="pre">stringin</span></code> and <code class="docutils literal notranslate"><span class="pre">stringout</span></code> records.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.builder.mbbIn">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">mbbIn</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">option_values</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#mbbIn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.mbbIn" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.builder.mbbOut">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">mbbOut</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">option_values</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#mbbOut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.mbbOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Create <code class="docutils literal notranslate"><span class="pre">mbbi</span></code> and <code class="docutils literal notranslate"><span class="pre">mbbo</span></code> records.  Up to 16 options can be specified as
a list of two or three field tuples.  The first field of each tuple is the
option name, the second field is the option value, and the third optional
field is the option severity.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">status</span> <span class="o">=</span> <span class="n">mbbIn</span><span class="p">(</span><span class="s1">&#39;STATUS&#39;</span><span class="p">,</span>
    <span class="p">(</span><span class="s1">&#39;OK&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;FAILING&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">alarm</span><span class="o">.</span><span class="n">MINOR_ALARM</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;FAILED&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">alarm</span><span class="o">.</span><span class="n">MAJOR_ALARM</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="softioc.builder.Waveform">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">Waveform</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name</span></em>, <span class="optional">[</span><em class="sig-param"><span class="pre">value</span></em>, <span class="optional">]</span><em class="sig-param"><span class="pre">**fields</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#Waveform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.Waveform" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.builder.WaveformOut">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">WaveformOut</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name</span></em>, <span class="optional">[</span><em class="sig-param"><span class="pre">value</span></em>, <span class="optional">]</span><em class="sig-param"><span class="pre">**fields</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#WaveformOut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.WaveformOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Create <code class="docutils literal notranslate"><span class="pre">waveform</span></code> records.  Depending on whether <a class="reference internal" href="#softioc.builder.Waveform" title="softioc.builder.Waveform"><code class="xref any py py-func docutils literal notranslate"><span class="pre">Waveform</span></code></a> or
<a class="reference internal" href="#softioc.builder.WaveformOut" title="softioc.builder.WaveformOut"><code class="xref any py py-func docutils literal notranslate"><span class="pre">WaveformOut</span></code></a> is called the record is configured to behave as an IN or an
OUT record, in particular <a class="reference internal" href="#on-update"><span class="std std-ref">on_update</span></a> can only be specified when calling
<a class="reference internal" href="#softioc.builder.WaveformOut" title="softioc.builder.WaveformOut"><code class="xref any py py-func docutils literal notranslate"><span class="pre">WaveformOut</span></code></a>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">value</span></code> is specified or if an <a class="reference internal" href="#initial-value"><span class="std std-ref">initial_value</span></a> is specified (only one of
these can be used) the value is used to initialise the waveform and to
determine its field type and length.  If no initial value is specified then
the keyword argument <code class="docutils literal notranslate"><span class="pre">length</span></code> must be used to specify the length of the
waveform.</p>
<p>The field type can be explicitly specified either by setting the <code class="docutils literal notranslate"><span class="pre">datatype</span></code>
keyword to a Python type name, or by setting <code class="docutils literal notranslate"><span class="pre">FTVL</span></code> to the appropriate EPICS
field type name.  Otherwise the field type is taken from the initial value
if given, or defaults to <code class="docutils literal notranslate"><span class="pre">'FLOAT'</span></code>.</p>
</dd></dl>

<p>The following function generates a specialised record.</p>
<dl class="py function">
<dt id="softioc.builder.Action">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">Action</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#Action"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.Action" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a record (using <a class="reference internal" href="#softioc.builder.boolOut" title="softioc.builder.boolOut"><code class="xref any py py-func docutils literal notranslate"><span class="pre">boolOut</span></code></a>) which will always call the <a class="reference internal" href="#on-update"><span class="std std-ref">on_update</span></a>
method when processed.  Used for action records.  The <a class="reference internal" href="#on-update"><span class="std std-ref">on_update</span></a> keyword
should always be passed.</p>
</dd></dl>

<p>The following functions manage record names.  The record device name must be
specified before creating records, then each record will be created with a
standard two part name of the form <code class="docutils literal notranslate"><span class="pre">device:name</span></code> where the <code class="docutils literal notranslate"><span class="pre">device</span></code> part is
specified by the functions below and the <code class="docutils literal notranslate"><span class="pre">name</span></code> part is specified in the
record creation function.</p>
<dl class="py function">
<dt id="softioc.builder.SetDeviceName">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">SetDeviceName</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#SetDeviceName"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.SetDeviceName" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up the prefix part of the record name, referred to here as the “device”
part.  This function must be called before creating any records.
Note that
only this function need be used, the three other functions below are
entirely optional.</p>
</dd></dl>

<dl class="py function">
<dt id="softioc.builder.UnsetDevice">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">UnsetDevice</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#UnsetDevice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.UnsetDevice" title="Permalink to this definition">¶</a></dt>
<dd><p>This can optionally be called after completing the creation of records to
prevent the accidential creation of records with the currently set device
name.</p>
</dd></dl>

<p>The following helper functions are useful when constructing links between
records.</p>
<dl class="py function">
<dt id="softioc.builder.PP">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">PP</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/epicsdbbuilder/recordbase.html#PP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.PP" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.builder.CP">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">CP</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/epicsdbbuilder/recordbase.html#CP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.CP" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.builder.NP">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">NP</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/epicsdbbuilder/recordbase.html#NP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.NP" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.builder.MS">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">MS</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/epicsdbbuilder/recordbase.html#MS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.MS" title="Permalink to this definition">¶</a></dt>
<dd><p>When assigned to a link field in a record these functions add the
appropriate processing attributes to the link.  These are not normally used.</p>
</dd></dl>

<p>The following attributes allow more direct access to record creation.</p>
<dl class="py attribute">
<dt id="softioc.builder.records">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">records</span></code><a class="headerlink" href="#softioc.builder.records" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the <code class="docutils literal notranslate"><span class="pre">iocbuilder</span></code> records object, and is populated with
functions named after each available record type.  Records created with
these calls are created with soft device support and Python is not involved
in their processing.</p>
<p>The following example shows a calc record being used to post-process a
standard Python IOC record:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">softioc</span> <span class="kn">import</span> <span class="n">builder</span>
<span class="n">builder</span><span class="o">.</span><span class="n">SetDeviceName</span><span class="p">(</span><span class="s1">&#39;XX-XX-XX-01&#39;</span><span class="p">)</span>
<span class="n">rec</span> <span class="o">=</span> <span class="n">aIn</span><span class="p">(</span><span class="s1">&#39;VALUE&#39;</span><span class="p">)</span>
<span class="n">calc</span> <span class="o">=</span> <span class="n">records</span><span class="o">.</span><span class="n">calc</span><span class="p">(</span><span class="s1">&#39;CALC&#39;</span><span class="p">,</span> <span class="n">CALC</span> <span class="o">=</span> <span class="s1">&#39;A*B&#39;</span><span class="p">,</span> <span class="n">A</span> <span class="o">=</span> <span class="n">rec</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="mi">42</span><span class="p">)</span>
<span class="n">rec</span><span class="o">.</span><span class="n">FLNK</span> <span class="o">=</span> <span class="n">PP</span><span class="p">(</span><span class="n">calc</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<p>Finally, the following function is used to load record definitions before
starting the IOC.</p>
<dl class="py function">
<dt id="softioc.builder.LoadDatabase">
<code class="sig-prename descclassname"><span class="pre">softioc.builder.</span></code><code class="sig-name descname"><span class="pre">LoadDatabase</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/builder.html#LoadDatabase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.builder.LoadDatabase" title="Permalink to this definition">¶</a></dt>
<dd><p>This must be called exactly once after creating all the records required by
the IOC and before calling <a class="reference internal" href="#softioc.softioc.iocInit" title="softioc.softioc.iocInit"><code class="xref py py-func docutils literal notranslate"><span class="pre">iocInit()</span></code></a>.  After this
function has been called none of the functions provided by
<a class="reference internal" href="#module-softioc.builder" title="softioc.builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">softioc.builder</span></code></a> are usable.</p>
</dd></dl>

<span class="target" id="module-softioc.alarm"></span><div class="section" id="alarm-value-definitions-softioc-alarm">
<h2>Alarm Value Definitions: <a class="reference internal" href="#module-softioc.alarm" title="softioc.alarm"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.alarm</span></code></a><a class="headerlink" href="#alarm-value-definitions-softioc-alarm" title="Permalink to this headline">¶</a></h2>
</div>
<p>The following values can be passed to IN record <a class="reference internal" href="#softioc.device.ProcessDeviceSupportIn.set" title="softioc.device.ProcessDeviceSupportIn.set"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set()</span></code></a> and
<a class="reference internal" href="#softioc.device.ProcessDeviceSupportIn.set_alarm" title="softioc.device.ProcessDeviceSupportIn.set_alarm"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_alarm()</span></code></a> methods.</p>
<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">NO_ALARM</span> <span class="pre">=</span> <span class="pre">0</span></code></dt>
<dt>
<code class="sig-name descname"><span class="pre">MINOR_ALARM</span> <span class="pre">=</span> <span class="pre">1</span></code></dt>
<dt>
<code class="sig-name descname"><span class="pre">MAJOR_ALARM</span> <span class="pre">=</span> <span class="pre">2</span></code></dt>
<dt>
<code class="sig-name descname"><span class="pre">INVALID_ALARM</span> <span class="pre">=</span> <span class="pre">3</span></code></dt>
<dd><p>These are severity values.  The default severity is <code class="docutils literal notranslate"><span class="pre">NO_ALARM</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="softioc.alarm.READ_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">READ_ALARM</span></code><a class="headerlink" href="#softioc.alarm.READ_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.WRITE_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">WRITE_ALARM</span></code><a class="headerlink" href="#softioc.alarm.WRITE_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.HIHI_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">HIHI_ALARM</span></code><a class="headerlink" href="#softioc.alarm.HIHI_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.HIGH_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">HIGH_ALARM</span></code><a class="headerlink" href="#softioc.alarm.HIGH_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.LOLO_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">LOLO_ALARM</span></code><a class="headerlink" href="#softioc.alarm.LOLO_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.LOW_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">LOW_ALARM</span></code><a class="headerlink" href="#softioc.alarm.LOW_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.STATE_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">STATE_ALARM</span></code><a class="headerlink" href="#softioc.alarm.STATE_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.COS_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">COS_ALARM</span></code><a class="headerlink" href="#softioc.alarm.COS_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.COMM_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">COMM_ALARM</span></code><a class="headerlink" href="#softioc.alarm.COMM_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.TIMEOUT_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">TIMEOUT_ALARM</span></code><a class="headerlink" href="#softioc.alarm.TIMEOUT_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.HW_LIMIT_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">HW_LIMIT_ALARM</span></code><a class="headerlink" href="#softioc.alarm.HW_LIMIT_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.CALC_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">CALC_ALARM</span></code><a class="headerlink" href="#softioc.alarm.CALC_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.SCAN_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">SCAN_ALARM</span></code><a class="headerlink" href="#softioc.alarm.SCAN_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.LINK_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">LINK_ALARM</span></code><a class="headerlink" href="#softioc.alarm.LINK_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.SOFT_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">SOFT_ALARM</span></code><a class="headerlink" href="#softioc.alarm.SOFT_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.BAD_SUB_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">BAD_SUB_ALARM</span></code><a class="headerlink" href="#softioc.alarm.BAD_SUB_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.UDF_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">UDF_ALARM</span></code><a class="headerlink" href="#softioc.alarm.UDF_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.DISABLE_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">DISABLE_ALARM</span></code><a class="headerlink" href="#softioc.alarm.DISABLE_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.SIMM_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">SIMM_ALARM</span></code><a class="headerlink" href="#softioc.alarm.SIMM_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.READ_ACCESS_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">READ_ACCESS_ALARM</span></code><a class="headerlink" href="#softioc.alarm.READ_ACCESS_ALARM" title="Permalink to this definition">¶</a></dt>
<dt id="softioc.alarm.WRITE_ACCESS_ALARM">
<code class="sig-prename descclassname"><span class="pre">softioc.alarm.</span></code><code class="sig-name descname"><span class="pre">WRITE_ACCESS_ALARM</span></code><a class="headerlink" href="#softioc.alarm.WRITE_ACCESS_ALARM" title="Permalink to this definition">¶</a></dt>
<dd><p>Alarm code definitions.  Frankly these values aren’t terribly useful, only
the severity is used for most notifications, but an alarm code needs to be
specified when specifying a non zero severity.</p>
</dd></dl>

<span class="target" id="module-softioc.pvlog"></span><div class="section" id="automatic-pv-logging-softioc-pvlog">
<h2>Automatic PV logging: <a class="reference internal" href="#module-softioc.pvlog" title="softioc.pvlog"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.pvlog</span></code></a><a class="headerlink" href="#automatic-pv-logging-softioc-pvlog" title="Permalink to this headline">¶</a></h2>
<p>Once this module has been imported all channel access writes to any PV published
by this IOC will be logged by writing a suitable message to stdout.  There is
currently no control or customisation of this feature.</p>
</div>
<span class="target" id="module-softioc.device"></span><div class="section" id="record-support-in-the-python-soft-ioc-softioc-device">
<h2>Record Support in the Python Soft IOC: <a class="reference internal" href="#module-softioc.device" title="softioc.device"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.device</span></code></a><a class="headerlink" href="#record-support-in-the-python-soft-ioc-softioc-device" title="Permalink to this headline">¶</a></h2>
</div>
<p>The Python soft IOC implements EPICS device support (almost) entirely in Python.
This is used to invoke Python processing in response to record processing,
making it easy to integrate Python into the EPICS IOC layer.</p>
<p>Records are created dynamically during IOC startup before calling
<a class="reference internal" href="#softioc.softioc.iocInit" title="softioc.softioc.iocInit"><code class="xref py py-func docutils literal notranslate"><span class="pre">iocInit()</span></code></a> and with the help of the <a class="reference internal" href="#module-softioc.builder" title="softioc.builder"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.builder</span></code></a>
module can be loaded with <a class="reference internal" href="#softioc.builder.LoadDatabase" title="softioc.builder.LoadDatabase"><code class="xref py py-func docutils literal notranslate"><span class="pre">LoadDatabase()</span></code></a>.</p>
<p>All records are created internally using methods of the <code class="docutils literal notranslate"><span class="pre">PythonDevice</span></code>
class, one method for each of the supported record types, however the
corresponding wrapping functions published by <a class="reference internal" href="#module-softioc.builder" title="softioc.builder"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.builder</span></code></a> should be
used as they configure sensible defaults and are generally easier to use.</p>
<p>Create IN records (used for publishing data <em>from</em> the IOC, the naming of the
direction is confusing) using the following <a class="reference internal" href="#module-softioc.builder" title="softioc.builder"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">softioc.builder</span></code></a> methods:</p>
<blockquote>
<div><p><a class="reference internal" href="#softioc.builder.aIn" title="softioc.builder.aIn"><code class="xref py py-func docutils literal notranslate"><span class="pre">aIn()</span></code></a>, <a class="reference internal" href="#softioc.builder.boolIn" title="softioc.builder.boolIn"><code class="xref py py-func docutils literal notranslate"><span class="pre">boolIn()</span></code></a>,
<a class="reference internal" href="#softioc.builder.longIn" title="softioc.builder.longIn"><code class="xref py py-func docutils literal notranslate"><span class="pre">longIn()</span></code></a>, <a class="reference internal" href="#softioc.builder.stringIn" title="softioc.builder.stringIn"><code class="xref py py-func docutils literal notranslate"><span class="pre">stringIn()</span></code></a>,
<a class="reference internal" href="#softioc.builder.mbbIn" title="softioc.builder.mbbIn"><code class="xref py py-func docutils literal notranslate"><span class="pre">mbbIn()</span></code></a>, <a class="reference internal" href="#softioc.builder.Waveform" title="softioc.builder.Waveform"><code class="xref py py-func docutils literal notranslate"><span class="pre">Waveform()</span></code></a>.</p>
</div></blockquote>
<p>Create OUT records for receiving control information into the IOC using the
following methods:</p>
<blockquote>
<div><p><a class="reference internal" href="#softioc.builder.aOut" title="softioc.builder.aOut"><code class="xref py py-func docutils literal notranslate"><span class="pre">aOut()</span></code></a>, <a class="reference internal" href="#softioc.builder.boolOut" title="softioc.builder.boolOut"><code class="xref py py-func docutils literal notranslate"><span class="pre">boolOut()</span></code></a>,
<a class="reference internal" href="#softioc.builder.longOut" title="softioc.builder.longOut"><code class="xref py py-func docutils literal notranslate"><span class="pre">longOut()</span></code></a>, <a class="reference internal" href="#softioc.builder.stringOut" title="softioc.builder.stringOut"><code class="xref py py-func docutils literal notranslate"><span class="pre">stringOut()</span></code></a>,
<a class="reference internal" href="#softioc.builder.mbbOut" title="softioc.builder.mbbOut"><code class="xref py py-func docutils literal notranslate"><span class="pre">mbbOut()</span></code></a>, <a class="reference internal" href="#softioc.builder.WaveformOut" title="softioc.builder.WaveformOut"><code class="xref py py-func docutils literal notranslate"><span class="pre">WaveformOut()</span></code></a>.</p>
</div></blockquote>
<p>For all records the <a class="reference internal" href="#initial-value"><span class="std std-ref">initial_value</span></a> keyword argument can be used to specify the
records value on startup.</p>
<div class="section" id="working-with-in-records">
<h2>Working with IN records<a class="headerlink" href="#working-with-in-records" title="Permalink to this headline">¶</a></h2>
<p>EPICS IN records are implemented as subclasses of the <a class="reference internal" href="#softioc.device.ProcessDeviceSupportIn" title="softioc.device.ProcessDeviceSupportIn"><code class="xref any py py-class docutils literal notranslate"><span class="pre">ProcessDeviceSupportIn</span></code></a>
class which provides the methods documented below.</p>
<dl class="py class">
<dt id="softioc.device.ProcessDeviceSupportIn">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">softioc.device.</span></code><code class="sig-name descname"><span class="pre">ProcessDeviceSupportIn</span></code><a class="reference internal" href="../_modules/softioc/device.html#ProcessDeviceSupportIn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.device.ProcessDeviceSupportIn" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is used to implement Python device support for the record types
<code class="docutils literal notranslate"><span class="pre">ai</span></code>, <code class="docutils literal notranslate"><span class="pre">bi</span></code>, <code class="docutils literal notranslate"><span class="pre">longin</span></code>, <code class="docutils literal notranslate"><span class="pre">mbbi</span></code> and IN <code class="docutils literal notranslate"><span class="pre">waveform</span></code> records.</p>
<dl class="py method">
<dt id="softioc.device.ProcessDeviceSupportIn.set">
<code class="sig-name descname"><span class="pre">set</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">severity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NO_ALARM</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alarm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">UDF_ALARM</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/device.html#ProcessDeviceSupportIn.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.device.ProcessDeviceSupportIn.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the stored value and severity status and triggers an update.  If
<code class="docutils literal notranslate"><span class="pre">SCAN</span></code> has been set to <code class="docutils literal notranslate"><span class="pre">'I/O</span> <span class="pre">Intr'</span></code> (which is the default if the
<a class="reference internal" href="#module-softioc.builder" title="softioc.builder"><code class="xref py py-mod docutils literal notranslate"><span class="pre">builder</span></code></a> methods have been used) then the record will be
processed by EPICS and the given value will be published to all users.</p>
<p>Optionally an explicit timestamp can be set.  This is a value in seconds
in the Unix epoch, as returned by <a class="reference external" href="https://docs.python.org/3/library/time.html#time.time" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.time()</span></code></a>.  This argument only
has any effect if <code class="docutils literal notranslate"><span class="pre">TSE</span> <span class="pre">=</span> <span class="pre">-2</span></code> was set when the record was created.</p>
<p>Note that when calling <a class="reference internal" href="#softioc.device.ProcessDeviceSupportIn.set" title="softioc.device.ProcessDeviceSupportIn.set"><code class="xref py py-func docutils literal notranslate"><span class="pre">set()</span></code></a> for a waveform record the value is
always copied immediately – this avoids accidents with mutable values.</p>
</dd></dl>

<dl class="py method">
<dt id="softioc.device.ProcessDeviceSupportIn.set_alarm">
<code class="sig-name descname"><span class="pre">set_alarm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">severity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alarm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/device.html#ProcessDeviceSupportIn.set_alarm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.device.ProcessDeviceSupportIn.set_alarm" title="Permalink to this definition">¶</a></dt>
<dd><p>This is exactly equivalent to calling:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rec</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">rec</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">severity</span><span class="p">,</span> <span class="n">alarm</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span>
</pre></div>
</div>
<p>and triggers an alarm status change without changing the value.</p>
</dd></dl>

<dl class="py method">
<dt id="softioc.device.ProcessDeviceSupportIn.get">
<code class="sig-name descname"><span class="pre">get</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/device.html#ProcessDeviceSupportIn.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.device.ProcessDeviceSupportIn.get" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns the value last written to this record with <a class="reference internal" href="#softioc.device.ProcessDeviceSupportIn.set" title="softioc.device.ProcessDeviceSupportIn.set"><code class="xref py py-func docutils literal notranslate"><span class="pre">set()</span></code></a>.</p>
<p>Note that channel access puts to a Python soft IOC input record are
completely ineffective, and this includes waveform records.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="working-with-out-records">
<h2>Working with OUT records<a class="headerlink" href="#working-with-out-records" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="softioc.device.ProcessDeviceSupportOut">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">softioc.device.</span></code><code class="sig-name descname"><span class="pre">ProcessDeviceSupportOut</span></code><a class="reference internal" href="../_modules/softioc/device.html#ProcessDeviceSupportOut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.device.ProcessDeviceSupportOut" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is used to implement Python device support for the record types
<code class="docutils literal notranslate"><span class="pre">ao</span></code>, <code class="docutils literal notranslate"><span class="pre">bo</span></code>, <code class="docutils literal notranslate"><span class="pre">longout</span></code>, <code class="docutils literal notranslate"><span class="pre">mbbo</span></code> and OUT <code class="docutils literal notranslate"><span class="pre">waveform</span></code> records.  All OUT
records support the following methods.</p>
<dl class="py method">
<dt id="softioc.device.ProcessDeviceSupportOut.set">
<code class="sig-name descname"><span class="pre">set</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/device.html#ProcessDeviceSupportOut.set"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.device.ProcessDeviceSupportOut.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the value associated with the record.  By default this will
trigger record processing, and so will cause any associated <a class="reference internal" href="#on-update"><span class="std std-ref">on_update</span></a>
and <a class="reference internal" href="#validate"><span class="std std-ref">validate</span></a> methods to be called.  If <code class="docutils literal notranslate"><span class="pre">process</span></code> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a>
then neither of these methods will be called, but the value will still
be updated.</p>
</dd></dl>

<dl class="py method">
<dt id="softioc.device.ProcessDeviceSupportOut.get">
<code class="sig-name descname"><span class="pre">get</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/softioc/device.html#ProcessDeviceSupportOut.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#softioc.device.ProcessDeviceSupportOut.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value associated with the record.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2008, Diamond Light Source.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>